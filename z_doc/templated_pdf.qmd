---
title: "Assignment"
subtitle: "APEX XXXX"
author: "Your name"
date: today
format: 
    pdf:
      toc: false
      shift-heading-level-by: 2
      fig-pos: "H"
      fig-cap-location: top
      geometry:
        - top=1in
        - right=.8in
        - bottom=1in
        - left=.8in
      link-citations: true
      linkcolor: blue
      include-in-header: 
        text: |
          \usepackage{fancyhdr}
          \usepackage{titling}
          \pagestyle{fancy}
          \fancyhf{}
          \renewcommand\maketitle{
            \fancyhead[C]{
              \thetitle
              \ifx \theauthor\empty  \else \ – \theauthor \fi
              \ifx \thedate\empty  \else \ – \thedate \ \fi
            }
          }
          \fancyfoot[C]{\thepage}
execute: 
  engine: knitr
  warning: false
  message: false
---



# Problem 1

\begin{align*}
\hat{\beta} 
  &= \mathbf{(X^{\prime}X)^{-1} (X^{\prime}Y)} \\
  &= \mathbf{(X^{\prime}X)^{-1} (X^{\prime} (X \beta + \mathbf{e}))} \\
  &= \mathbf{(X^{\prime} X)^{-1} X^{\prime}{X} \beta 
   + (X^{\prime} X)^{-1} X^{\prime} e} \\ 
  &= \beta + \mathbf{(X^{\prime} X)^{-1} X^{\prime} e}
\end{align*}


# Problem 2

```{r}
# === Load packages === #
library(modelsummary)

# === Load Data === #
data(hprice2, package = "wooldridge")

# === Estimate three models === #
reg1 <- lm(log(price) ~ log(nox), data = hprice2)
reg2 <- lm(log(price) ~ log(nox) + rooms, data = hprice2)
reg3 <- lm(log(price) ~ log(nox) + rooms + I(rooms^2), data = hprice2)

# === Show the Results === #
ls_models <- 
  list(
    "OLS 1" = reg1,
    "OLS 2" = reg2,
    "OLS 3" = reg3
  )

modelsummary(
  models = ls_models,
  output = "flextable",
  fmt = "%.2f",
  coef_map = c(
    "log(nox)" = "log(Nox)", 
    "rooms" = "Rooms", 
    "I(rooms^2)" = "Rooms sq"
    ),
  stars  =  c("*" = .05, "**" = .01, "***" = .001), 
  gof_map = c("nobs", "r.squared"),
  title = "Example Regression Results",
  notes = list("Note: Std. Errors in parentheses")
  )
```
